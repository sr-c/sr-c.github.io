<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>quickmerge的使用 - SR-C</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="SR-C" /><meta name="description" content="install 1 2 3 wget https://github.com/mahulchak/quickmerge/archive/v0.2.tar.gz tar zxf v0.2.tar.gz bash make_merger.sh Running The simplest way to run &amp;lsquo;merger&amp;rsquo; is to use the python wrapper &amp;lsquo;merge_wrapper_v2.py&amp;rsquo;: 1 merge_wrapper.py hybrid_assembly.fasta self_assembly.fasta Which of my assemblies should I use as query and reference? There is no golden rule for this. Quickmerge was developed with the idea that every genome is different and that you know best about the genome you are assembling. All" /><meta name="keywords" content="Genomics, Bioinformation" />






<meta name="generator" content="Hugo 0.74.3 with theme even" />


<link rel="canonical" href="https://sr-c.github.io/2018/06/04/quickmerge/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<link href="/sass/main.min.8c3cbcb0324c2bb4875ceccba4007cbad4b4ac8377f33af9953c3e7684534a50.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="quickmerge的使用" />
<meta property="og:description" content="install 1 2 3 wget https://github.com/mahulchak/quickmerge/archive/v0.2.tar.gz tar zxf v0.2.tar.gz bash make_merger.sh Running The simplest way to run &lsquo;merger&rsquo; is to use the python wrapper &lsquo;merge_wrapper_v2.py&rsquo;: 1 merge_wrapper.py hybrid_assembly.fasta self_assembly.fasta Which of my assemblies should I use as query and reference? There is no golden rule for this. Quickmerge was developed with the idea that every genome is different and that you know best about the genome you are assembling. All" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://sr-c.github.io/2018/06/04/quickmerge/" />
<meta property="article:published_time" content="2018-06-04T22:44:59+00:00" />
<meta property="article:modified_time" content="2018-06-04T22:44:59+00:00" />
<meta itemprop="name" content="quickmerge的使用">
<meta itemprop="description" content="install 1 2 3 wget https://github.com/mahulchak/quickmerge/archive/v0.2.tar.gz tar zxf v0.2.tar.gz bash make_merger.sh Running The simplest way to run &lsquo;merger&rsquo; is to use the python wrapper &lsquo;merge_wrapper_v2.py&rsquo;: 1 merge_wrapper.py hybrid_assembly.fasta self_assembly.fasta Which of my assemblies should I use as query and reference? There is no golden rule for this. Quickmerge was developed with the idea that every genome is different and that you know best about the genome you are assembling. All">
<meta itemprop="datePublished" content="2018-06-04T22:44:59+00:00" />
<meta itemprop="dateModified" content="2018-06-04T22:44:59+00:00" />
<meta itemprop="wordCount" content="469">



<meta itemprop="keywords" content="PacBio," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="quickmerge的使用"/>
<meta name="twitter:description" content="install 1 2 3 wget https://github.com/mahulchak/quickmerge/archive/v0.2.tar.gz tar zxf v0.2.tar.gz bash make_merger.sh Running The simplest way to run &lsquo;merger&rsquo; is to use the python wrapper &lsquo;merge_wrapper_v2.py&rsquo;: 1 merge_wrapper.py hybrid_assembly.fasta self_assembly.fasta Which of my assemblies should I use as query and reference? There is no golden rule for this. Quickmerge was developed with the idea that every genome is different and that you know best about the genome you are assembling. All"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SR-C</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">主页</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">归档</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">标签</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">分类</li>
      </a><a href="/search/">
        <li class="mobile-menu-item">搜索</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SR-C</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">主页</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">归档</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">标签</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">分类</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/search/">搜索</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
            
			<article class="post">
    
    <header class="post-header">
      <h1 class="post-title">quickmerge的使用</h1>

      <div class="post-meta">
        <span class="post-time"> 2018-06-04 </span>
        
        <span id="busuanzi_container_page_pv" class="more-meta"> <span id="busuanzi_value_page_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> 次阅读 </span>
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#install">install</a></li>
    <li><a href="#running">Running</a></li>
    <li><a href="#which-of-my-assemblies-should-i-use-as-query-and-reference">Which of my assemblies should I use as query and reference?</a></li>
    <li><a href="#usage-1-one-round-of-quickmerge">USAGE 1: One round of quickmerge</a></li>
    <li><a href="#usage-2-one-round-merged-assembly-does-not-have-both-best-n50-and-correct-assembly-size">USAGE 2: One round merged assembly does not have both best N50 and correct assembly size</a></li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h2 id="install">install</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">wget https://github.com/mahulchak/quickmerge/archive/v0.2.tar.gz
tar zxf v0.2.tar.gz
bash make_merger.sh
</code></pre></td></tr></table>
</div>
</div><h2 id="running">Running</h2>
<p>The simplest way to run &lsquo;merger&rsquo; is to use the python wrapper &lsquo;merge_wrapper_v2.py&rsquo;:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback"> merge_wrapper.py hybrid_assembly.fasta self_assembly.fasta
</code></pre></td></tr></table>
</div>
</div><h2 id="which-of-my-assemblies-should-i-use-as-query-and-reference">Which of my assemblies should I use as query and reference?</h2>
<p>There is no golden rule for this. <em>Quickmerge</em> was developed  with the idea that every genome is different and that you know best  about the genome you are assembling. All you have to do is to keep in  mind that <em>quickmerge</em> joins contigs in one assembly (query  assembly) using the contigs from the reference assembly. So the merged  assembly receives the most sequences from the query assembly, and the  reference assembly provides only the sequences that bridge gaps in the  query assembly. As a result, <strong>the merged assembly size and completeness (as evaluated by BUSCO or CEGMA metric) would be more like the query genome</strong>.  If you believe that completeness and size of the assembly 1 is truer  representation of the actual genome, then you may use that assembly as  the query. Please see below for strategies on one and two rounds of  quickmerge.</p>
<h2 id="usage-1-one-round-of-quickmerge">USAGE 1: One round of quickmerge</h2>
<p>Use this when your PacBio assembly (PBcR/canu/Falcon) is much more  fragmented than the hybrid/DBG2OLC assembly. Use your DBG2OLC assembly  as the reference. This is more likely to happen when coverage is low  (&lt;50X). In this case, it is expected that you will run <em>quickmerge</em> only once. E.g.</p>
<ol>
<li>Choose your query and reference assembly. You can try one <em>quickmerge</em> run with assembly1 as the reference and another <em>quickmerge</em> run with assembly1 as the query.</li>
<li>Choose all the parameters.</li>
<li>Run <em>quickmerge</em>. Use the merged assembly with the better N50.</li>
</ol>
<h2 id="usage-2-one-round-merged-assembly-does-not-have-both-best-n50-and-correct-assembly-size">USAGE 2: One round merged assembly does not have both best N50 and correct assembly size</h2>
<p>This is our preferred method, especially when the PacBio only  assembly is much more contiguous than the DBG2OLC or hybrid assembly  (more likely to happen when coverage is &gt;50X).</p>
<ol>
<li>Choose assembly1 as query and assembly2 as reference.</li>
<li>Run <em>quickmerge</em> and obtain N50, assembly size, etc.</li>
<li>Set assembly2 as query and assembly1 as query.</li>
<li>Run <em>quickmerge</em> and obtain N50, assembly size, etc.</li>
<li>Does either of your merged assemblies (from 2 or 4) give you the best N50 and the correct genome size at the same time?</li>
<li>If not, choose the merge assembly that is more contiguous and lets call it assembly3.</li>
<li>Lets say that size and other metrics (e.g. BUSCO or CEGMA metric) of assembly1 (or assembly2) is more correct. Now run <em>quickmerge</em>  with assembly1 (or assembly2) as the query and assembly3 as the  reference. If you are not using the wrapper python script, you should  rename the contigs in assembly 3 before running <em>quickmerge</em>.Simply do<code>sed -i 's/^&gt;/&gt;N_/g' assembly3.fasta</code>before running <em>quickmerge</em>.</li>
<li>Now your merged assembly has the best N50 without sacrificing on the other metrics.</li>
</ol>
<p>Reference</p>
<p><a href="https://github.com/mahulchak/quickmerge/wiki">https://github.com/mahulchak/quickmerge/wiki</a></p>
<!-- raw HTML omitted -->

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">SR-C</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        2018-06-04
        
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/PacBio/">PacBio</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/2018/06/04/BUSCO/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">使用BUSCO评价基因组组装质量</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/2018/05/29/polish-pacbio-assembly/">
            <span class="next-text nav-default">Polish Pacbio Assembly</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  
    <script src="https://utteranc.es/client.js"
            repo="sr-c/blog-comment"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://github.com/utterance">comments powered by utterances.</a></noscript>

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="https://sr-c.github.io" class="iconfont icon-github" title="github"></a>
  <a href="https://sr-c.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  <div class="busuanzi-footer">
    <span id="busuanzi_container_site_pv"> 本站总访问量 <span id="busuanzi_value_site_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> 次 </span>
      <span class="division">|</span>
    <span id="busuanzi_container_site_uv"> 本站总访客数 <span id="busuanzi_value_site_uv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> 人 </span>
  </div>

  <span class="copyright-year">
    &copy; 
    2017 - 
    2021
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">SR-C</span>
  </span>
</div>
      
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.d7b7ada643c9c1a983026e177f141f7363b4640d619caf01d8831a6718cd44ea.js"></script>









</body>
</html>
